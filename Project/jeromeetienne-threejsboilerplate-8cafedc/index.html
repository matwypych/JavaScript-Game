<html>
	<head>
		<title>kolokwium</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script src="js/OrbitControls.js"></script>
<script>
	var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );
			
			var controls = new THREE.OrbitControls( camera, renderer.domElement );
			camera.position.set( 20, 40, 100 );
			controls.update();

			//var light = new THREE.AmbientLight( 0xFFFFFF );
			//scene.add( light );		
			
			var geometry1 = new THREE.SphereBufferGeometry( 20, 20, 20 );
			var material1 = new THREE.MeshBasicMaterial( {color: 0xFFFFFF} );
			var bowl = new THREE.Mesh(geometry1, material1 );
			bowl.position.set(0,1,0);
			scene.add( bowl );
			
		
			
			var geometry = new THREE.PlaneGeometry( 1000, 1000, 0 );
			var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );
			var plane = new THREE.Mesh( geometry, material );
			scene.add( plane );
			
			plane.rotation.y=Math.PI/2;
			
			 function render() {
			requestAnimationFrame(render);

				if (keyDown[38]) 
				{
				if (speed < 130) {
					speed += 1;
						}
						} else if (keyDown[40]) {
						if (speed > 0) speed -= 2;
					} else {
						speed -= 1;
						if (speed < 0) speed = 0;
					}
					if (speed > 0) {
						if (keyDown[37]) bowl.rotation.y += 0.05;
						if (keyDown[39]) bowl.rotation.y -= 0.05;
					}

					bowl.position.x += speed * Math.sin(bowl.rotation.y);
					bowl.position.z += speed * Math.cos(bowl.rotation.y);

					camera.lookAt(bowl.position);

					renderer.render(scene, camera);
				}

				speed = 0;
				keyDown = new Array();
				for (i = 0; i < 300; i++) {
					keyDown[i] = false;
				}

				document.onkeydown = function(event) {
					keyDown[event.keyCode] = true;
				}

				document.onkeyup = function(event) {
					keyDown[event.keyCode] = false;
				}
				
			
		
						
			
		render();
			
			
			
			
	

			
	</script>	
	</body>
</html>